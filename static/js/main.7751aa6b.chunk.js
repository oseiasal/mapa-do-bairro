(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,n,t){e.exports=t(18)},15:function(e,n,t){},18:function(e,n,t){"use strict";t.r(n);var o=t(0),a=t.n(o),i=t(4),r=t.n(i),s=(t(15),t(5)),c=t(6),l=t(9),d=t(7),u=t(8),m=t(1),p=function(){return a.a.createElement("main",null,a.a.createElement("div",{id:"map",role:"application","aria-label":"Mapa da Cidade de Guarulhos",className:"map"}))},f=function(e){var n=e.openInfoWindow,t=e.infoWindow,o=e.marker,i=function(e){n(o,t,o.map)};return a.a.createElement("li",{role:"button",tabIndex:"0",onClick:i.bind(void 0),onKeyPress:i.bind(void 0)},o.title)},v=(t(3),function(e){var n=e.openMenu,t=e.updateQuery,o=e.query,i=e.marcFiltered,r=e.infoWindow,s=e.openInfoWindow,c=e.markers;return a.a.createElement("div",{className:"menu-option"},a.a.createElement("div",{className:"search-container"},a.a.createElement("div",{tabIndex:"0",className:"menuToggle",onKeyPress:n},a.a.createElement("input",{tabIndex:"-1",className:"checkbox",type:"checkbox"}),a.a.createElement("span",null),a.a.createElement("span",null),a.a.createElement("span",null),a.a.createElement("div",null)),a.a.createElement("input",{"aria-label":"Digite o nome do lugar",placeholder:"Digite o nome do lugar",className:"show-markers showing",type:"text",onChange:function(e){t(e.target.value)}}),a.a.createElement("div",{className:"list showing"},a.a.createElement("ul",null,o.length>0?i.map(function(e,n){return a.a.createElement(f,{infoWindow:r,key:n,marker:e,openInfoWindow:s})}):c.map(function(e,n){return a.a.createElement(f,{infoWindow:r,key:n,marker:e,openInfoWindow:s})})))))}),g=[{title:"CIEE",location:{lat:-23.467149,lng:-46.527667},id:"4f47974ce4b0683d4e7d87cf"},{title:"Maria Cereja",location:{lat:-23.4610524,lng:-46.5302547},id:"4b2ee880f964a52023e824e3"},{title:"Bosque Maia",location:{lat:-23.4575191,lng:-46.5298792},id:"4bb2aec24019a5937f3637b8"},{title:"Wow Burger",location:{lat:-23.4577258,lng:-46.5302654},id:"4b2ed079f964a52009e724e3"},{title:"Winners Academia",location:{lat:-23.4599304,lng:-46.536059},id:"4d7b98e96152b60cdc578126"},{title:"ACM",location:{lat:-23.4635817,lng:-46.5338167},id:"4c7c43107a856dcbb7cde1a7"}],h=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(d.a)(n).call(this,e))).initMap=function(){document.getElementsByClassName("checkbox")[0].addEventListener("click",function(){document.getElementsByClassName("list")[0].classList.toggle("showing"),document.getElementsByClassName("show-markers")[0].classList.toggle("showing")});var e=Object(m.a)(Object(m.a)(t)),n=new window.google.maps.InfoWindow;t.setState({infoWindow:n});var o=new window.google.maps.Map(document.getElementById("map"),{center:{lat:-23.4671489,lng:-46.5276668},zoom:15,mapTypeControl:!1});t.setState({map:o});for(var a=new window.google.maps.LatLngBounds,i=function(n){var i=t.state.locations[n].location,r=t.state.locations[n].title,s=t.state.locations[n].id,c=new window.google.maps.Marker({squareId:s,map:o,position:i,title:r,animation:window.google.maps.Animation.DROP,id:n});c.addListener("click",function(){e.openInfoWindow(this,e.state.infoWindow,this.map)}),t.setState(function(e){return t.state.markers.push(c)}),a.extend(t.state.markers[n].position)},r=0;r<t.state.locations.length;r++)i(r)},t.updateQuery=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=Object(m.a)(Object(m.a)(t));t.setState({query:e}),t.state.markers.filter(function(n){return n.title.toLowerCase().indexOf(e.toLowerCase())>-1}).map(function(e){return n.push(e)}),t.setState({marcFiltered:n}),setTimeout(function(){o.renderMarkers(o.state.map,o.state.marcFiltered,o.state.query)},100),t.state.markers.map(function(e){return e.setMap(null)})},t.state={locations:g,map:{},markers:[],query:"",infoWindow:""},t}return Object(u.a)(n,e),Object(c.a)(n,[{key:"componentDidMount",value:function(){window.initMap=this.initMap,this.createScript("https://maps.googleapis.com/maps/api/js?key=AIzaSyDVOph5H2ON8d7d3maVA_t9UkTTxkRhuZA&callback=initMap")}},{key:"openMenu",value:function(){document.getElementsByClassName("list")[0].classList.toggle("showing"),document.getElementsByClassName("show-markers")[0].classList.toggle("showing")}},{key:"renderMarkers",value:function(e,n,t){setTimeout(function(){0===t.length&&n.map(function(n){return n.setMap(e)})},10),n.map(function(o){if(o.title!==t.toLowerCase().indexOf(t.toLowerCase())>-1)return n.map(function(n){return n.setMap(e)})})}},{key:"render",value:function(){return a.a.createElement("div",{className:"container"},a.a.createElement("header",{className:"header"}," Mapa do Bairro "),a.a.createElement("nav",null,a.a.createElement(v,{openMenu:this.openMenu.bind(this),query:this.state.query,marcFiltered:this.state.marcFiltered,updateQuery:this.updateQuery.bind(this),openInfoWindow:this.openInfoWindow.bind(this),infoWindow:this.state.infoWindow,markers:this.state.markers,map:this.state.map})),a.a.createElement(p,null))}},{key:"openInfoWindow",value:function(e,n,t){n.marker!==e&&(n.marker=e,n.setContent("<div>"+e.title+"</div>"),n.open(t,e),e.setAnimation(window.google.maps.Animation.BOUNCE),this.state.map.setCenter(e.getPosition()),this.state.map.panBy(0,30),setTimeout(function(){n.marker.setAnimation(null)},1500),n.addListener("closeclick",function(){n.close(),n.marker.setMarker=null}),this.chamaApiFourSquare(e))}},{key:"chamaApiFourSquare",value:function(e){var n=this;fetch("https://api.foursquare.com/v2/venues/"+e.squareId+"?&client_id=RPG2KU5WWCUL345BGVBOVBI2UYVKNSRNHCTPOT0LVDRVIZFK&client_secret=WPVUMYBEEB1MS0HS4AWOY44WIA00CN4UG5DVVQZ0PT0POK2B&v=20131212").then(function(t){return t.json().then(function(t){if(200!==t.meta.code){var o="<div><strong>"+e.title+"</strong></div></br>";t.meta.errorDetail;return n.state.infoWindow.setContent(o+"<div>Loading... :)</div>")}if(void 0!==t.response.venue){var a='<div style="font-size:18px"><b>'+e.title+"</b></div>",i="<div> <b>Categoria</b>: "+t.response.venue.categories[0].pluralName+"</div>",r="<div> <b>Endere\xe7o:</b> "+(void 0===t.response.venue.location.address?"Rua sem nome":t.response.venue.location.address)+"</div>",s="<div> <b>Gostaram do lugar:</b> "+(void 0===t.response.venue.likes.summary?"Sem informa\xe7\xe3o :(":t.response.venue.likes.summary)+"</div>",c="<div> <b>Telefone:</b> "+(void 0===t.response.venue.contact.formattedPhone?"Sem telefone":t.response.venue.contact.formattedPhone)+"</div>",l="<div> <b>Site:</b> "+(void 0===t.response.venue.url?"indispon\xedvel no momento":"<a href="+t.response.venue.url+">"+t.response.venue.url+"</a></div>");return n.state.infoWindow.setContent(a+"<br>"+i+r+s+c+"<br>"+l+"<br><div><code> Elaborado com Api do 4Square</code></div>")}}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}},{key:"createScript",value:function(e){var n=window.document.getElementsByTagName("script")[0],t=window.document.createElement("script");t.src=e,t.async=!0,t.defer=!0,n.parentNode.insertBefore(t,n)}}]),n}(o.Component),w=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function b(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(a.a.createElement(h,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/mapa-do-bairro",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/mapa-do-bairro","/service-worker.js");w?(function(e,n){fetch(e).then(function(t){var o=t.headers.get("content-type");404===t.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):b(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):b(n,e)})}}()},3:function(e,n,t){}},[[10,2,1]]]);
//# sourceMappingURL=main.7751aa6b.chunk.js.map